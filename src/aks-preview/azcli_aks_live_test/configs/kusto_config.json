{
    "azcli-aks-runner-suite": {
        "cluster_name": "aksdevinfra.westus2",
        "database_name": "AZAKSRunner",
        "raw_table_name": "AZAKSRunnerSummary",
        "target_table_name": "AZAKSRunnerDetail",
        "update_function_base_name": "TestRecordsExpand",
        "update_function_name": "",
        "raw_mapping_name": "",
        "raw_schema": "(guid: guid, created: datetime, mode: string, duration: real, exitcode: int, root: string, environment: dynamic, summary_failed: int, summary_skipped: int, summary_passed: int, summary_total: int, summary_collected: int, cli_repo: string, cli_branch: string, cli_commit: string, cli_describe: string, ext_repo: string, ext_branch: string, ext_commit: string, ext_describe: string, tests: dynamic)",
        "raw_mapping": "'[{\"Column\":\"guid\", \"Properties\":{\"Path\":\"$.guid\"}}, {\"Column\":\"created\", \"Properties\":{\"Path\":\"$.created\", \"transform\":\"DateTimeFromUnixSeconds\"}}, {\"Column\":\"mode\", \"Properties\":{\"Path\":\"$.mode\"}}, {\"Column\":\"duration\", \"Properties\":{\"Path\":\"$.duration\"}}, {\"Column\":\"exitcode\", \"Properties\":{\"Path\":\"$.exitcode\"}}, {\"Column\":\"root\", \"Properties\":{\"Path\":\"$.root\"}}, {\"Column\":\"environment\",\"Properties\":{\"Path\":\"$.environment\"}}, {\"Column\":\"summary_failed\", \"Properties\":{\"Path\":\"$.summary.failed\"}}, {\"Column\":\"summary_skipped\", \"Properties\":{\"Path\":\"$.summary.skipped\"}}, {\"Column\":\"summary_passed\", \"Properties\":{\"Path\":\"$.summary.passed\"}}, {\"Column\":\"summary_total\", \"Properties\":{\"Path\":\"$.summary.total\"}}, {\"Column\":\"summary_collected\", \"Properties\":{\"Path\":\"$.summary.collected\"}}, {\"Column\":\"cli_repo\", \"Properties\":{\"Path\":\"$.cli_repo\"}}, {\"Column\":\"cli_branch\", \"Properties\":{\"Path\":\"$.cli_branch\"}}, {\"Column\":\"cli_commit\", \"Properties\":{\"Path\":\"$.cli_commit\"}}, {\"Column\":\"cli_describe\", \"Properties\":{\"Path\":\"$.cli_describe\"}}, {\"Column\":\"ext_repo\", \"Properties\":{\"Path\":\"$.ext_repo\"}}, {\"Column\":\"ext_branch\", \"Properties\":{\"Path\":\"$.ext_branch\"}}, {\"Column\":\"ext_commit\", \"Properties\":{\"Path\":\"$.ext_commit\"}}, {\"Column\":\"ext_describe\", \"Properties\":{\"Path\":\"$.ext_describe\"}}, {\"Column\":\"tests\", \"Properties\":{\"Path\":\"$.tests\"}}]'",
        "target_schema": "(guid: guid, created: datetime, mode: string, root: string, environment: dynamic, cli_repo: string, cli_branch: string, cli_commit: string, cli_describe: string, ext_repo: string, ext_branch: string, ext_commit: string, ext_describe: string, test_case: string, brief_test_case: string, lineno: int, outcome: string, keywords: dynamic, setup_duration: real, setup_outcome: string, setup_longrepr: string, call_duration: real, call_outcome: string, call_log: dynamic, call_longrepr: string, teardown_duration: real, teardown_outcome: string, teardown_longrepr: string, test_location: string, test_command: string, test_error: string, test_error_context: string, stack_trace: string, execution_error: string, execution_error_context: string, error_msg: string, error_type: string, full_error_type: string, internal_error_type: string, internal_correlation_id: string, internal_operation_id: string, internal_timestamp: datetime, internal_error_code: string, internal_error_message: string, internal_error_detail: string, error_category: string)",
        "update_function": "{\n    AZAKSRunnerSummary\n    | mv-expand records = tests\n    | project\n        guid = guid,\n        created = created,\n        mode = mode,\n        root = root,\n        environment = environment,\n        cli_repo = cli_repo,\n        cli_branch = cli_branch,\n        cli_commit = cli_commit,\n        cli_describe = cli_describe,\n        ext_repo = ext_repo,\n        ext_branch = ext_branch,\n        ext_commit = ext_commit,\n        ext_describe = ext_describe,\n        test_case = tostring(records[\"nodeid\"]),\n        brief_test_case = tostring(records[\"brief_test_case\"]),\n        lineno = toint(records[\"lineno\"]),\n        outcome = tostring(records[\"outcome\"]),\n        keywords = todynamic(records[\"keywords\"]),\n        setup_duration = todouble(records[\"setup\"][\"duration\"]),\n        setup_outcome = tostring(records[\"setup\"][\"outcome\"]),\n        setup_longrepr = tostring(records[\"setup\"][\"longrepr\"]),\n        call_duration = todouble(records[\"call\"][\"duration\"]),\n        call_outcome = tostring(records[\"call\"][\"outcome\"]),\n        call_log = todynamic(records[\"call\"][\"log\"]),\n        call_longrepr = tostring(records[\"call\"][\"longrepr\"]),\n        teardown_duration = todouble(records[\"teardown\"][\"duration\"]),\n        teardown_outcome = tostring(records[\"teardown\"][\"outcome\"]),\n        teardown_longrepr = tostring(records[\"teardown\"][\"longrepr\"]),\n        test_location = tostring(records[\"test_location\"]),\n        test_command = tostring(records[\"parsed\"][\"test_command\"]),\n        test_error = tostring(records[\"parsed\"][\"test_error\"]),\n        test_error_context = tostring(records[\"parsed\"][\"test_error_context\"]),\n        stack_trace = tostring(records[\"parsed\"][\"stack_trace\"]),\n        execution_error = tostring(records[\"parsed\"][\"execution_error\"]),\n        execution_error_context = tostring(records[\"parsed\"][\"execution_error_context\"]),\n        error_msg = tostring(records[\"parsed\"][\"error_msg\"]),\n        error_type = tostring(records[\"parsed\"][\"error_type\"]),\n        full_error_type = tostring(records[\"parsed\"][\"full_error_type\"]),\n        internal_error_type = tostring(records[\"parsed\"][\"internal_error_info\"][\"internal_error_type\"]),\n        internal_correlation_id = tostring(records[\"parsed\"][\"internal_error_info\"][\"internal_correlation_id\"]),\n        internal_operation_id = tostring(records[\"parsed\"][\"internal_error_info\"][\"internal_operation_id\"]),\n        internal_timestamp = todatetime(records[\"parsed\"][\"internal_error_info\"][\"internal_timestamp\"]),\n        internal_error_code = tostring(records[\"parsed\"][\"internal_error_info\"][\"internal_error_code\"]),\n        internal_error_message = tostring(records[\"parsed\"][\"internal_error_info\"][\"internal_error_message\"]),\n        internal_error_detail = tostring(records[\"parsed\"][\"internal_error_info\"][\"internal_error_detail\"]),\n        error_category = tostring(records[\"parsed\"][\"error_category\"])\n}"
    },
    "azcli-aks-ut-coverage-suite": {
        "cluster_name": "aksdevinfra.westus2",
        "database_name": "AZAKSUnitTest",
        "raw_table_name": "AZAKSUnitTestSummary",
        "target_table_name": "AZAKSUnitTestDetail",
        "update_function_base_name": "TestFilesExpand",
        "update_function_name": "",
        "raw_mapping_name": "",
        "raw_schema": "(guid: guid, created: datetime, mode: string, version: string, covered_lines: int, num_statements: int, percent_covered: real, percent_covered_display: string, missing_lines: int, excluded_lines: int, cli_repo: string, cli_branch: string, cli_commit: string, cli_describe: string, ext_repo: string, ext_branch: string, ext_commit: string, ext_describe: string, files: dynamic)",
        "raw_mapping": "'[{\"Column\":\"guid\", \"Properties\":{\"Path\":\"$.guid\"}}, {\"Column\":\"created\", \"Properties\":{\"Path\":\"$.created\", \"transform\":\"DateTimeFromUnixSeconds\"}}, {\"Column\":\"mode\", \"Properties\":{\"Path\":\"$.mode\"}}, {\"Column\":\"version\", \"Properties\":{\"Path\":\"$.meta.version\"}}, {\"Column\":\"covered_lines\", \"Properties\":{\"Path\":\"$.totals.covered_lines\"}}, {\"Column\":\"num_statements\", \"Properties\":{\"Path\":\"$.totals.num_statements\"}}, {\"Column\":\"percent_covered\", \"Properties\":{\"Path\":\"$.totals.percent_covered\"}}, {\"Column\":\"percent_covered_display\", \"Properties\":{\"Path\":\"$.totals.percent_covered_display\"}}, {\"Column\":\"missing_lines\", \"Properties\":{\"Path\":\"$.totals.missing_lines\"}}, {\"Column\":\"excluded_lines\", \"Properties\":{\"Path\":\"$.totals.excluded_lines\"}}, {\"Column\":\"cli_repo\", \"Properties\":{\"Path\":\"$.cli_repo\"}}, {\"Column\":\"cli_branch\", \"Properties\":{\"Path\":\"$.cli_branch\"}}, {\"Column\":\"cli_commit\", \"Properties\":{\"Path\":\"$.cli_commit\"}}, {\"Column\":\"cli_describe\", \"Properties\":{\"Path\":\"$.cli_describe\"}}, {\"Column\":\"ext_repo\", \"Properties\":{\"Path\":\"$.ext_repo\"}}, {\"Column\":\"ext_branch\", \"Properties\":{\"Path\":\"$.ext_branch\"}}, {\"Column\":\"ext_commit\", \"Properties\":{\"Path\":\"$.ext_commit\"}}, {\"Column\":\"ext_describe\", \"Properties\":{\"Path\":\"$.ext_describe\"}}, {\"Column\":\"files\", \"Properties\":{\"Path\":\"$.files\"}}]'",
        "target_schema": "(guid: guid, created: datetime, mode: string, cli_repo: string, cli_branch: string, cli_commit: string, cli_describe: string, ext_repo: string, ext_branch: string, ext_commit: string, ext_describe: string, file_name: string, covered_lines: int, num_statements: int, percent_covered: real, percent_covered_display: string, missing_lines: int, excluded_lines: int, executed_lines_detail: dynamic, missing_lines_detail: dynamic, excluded_lines_detail: dynamic)",
        "update_function": "{\n    AZAKSUnitTestSummary\n    | mv-expand records = files\n    | project\n        guid = guid,\n        created = created,\n        mode = mode,\n        cli_repo = cli_repo,\n        cli_branch = cli_branch,\n        cli_commit = cli_commit,\n        cli_describe = cli_describe,\n        ext_repo = ext_repo,\n        ext_branch = ext_branch,\n        ext_commit = ext_commit,\n        ext_describe = ext_describe,\n        file_name = tostring(records[\"file_name\"]),\n        covered_lines = toint(records[\"summary\"][\"covered_lines\"]),\n        num_statements = toint(records[\"summary\"][\"num_statements\"]),\n        percent_covered = toreal(records[\"summary\"][\"percent_covered\"]),\n        percent_covered_display = tostring(records[\"summary\"][\"percent_covered_display\"]),\n        missing_lines = toint(records[\"summary\"][\"missing_lines\"]),\n        excluded_lines = toint(records[\"summary\"][\"excluded_lines\"]),\n        executed_lines_detail = todynamic(records[\"executed_lines\"]),\n        missing_lines_detail = todynamic(records[\"missing_lines\"]),\n        excluded_lines_detail = todynamic(records[\"excluded_lines\"])\n}"
    }
}